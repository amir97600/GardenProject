<div class="main-content">
    <div class="carte" id="carte">
      <div class="garden-map">
        <ng-container *ngFor="let culture of cultures">
          <div class="plot" *ngIf="!culture.recolte" (click)="afficherFiche(culture)">
            <img [src]="AfficherIconeCulture(culture)" class="icone-plot" alt="Ic√¥ne">
            <div class="nom-plot">{{ AfficherNomCulture(culture) }}</div>
          </div>
        </ng-container>

        <div class="plot plot-ajout" (click)="fermerFormAjout()">
          <span class="plus-icon">+</span>
        </div>

        

      </div>
    </div>
  
    <div class="fiche-plante" *ngIf="cultureSelectionnee">
      <button class="close-btn" (click)="cultureSelectionnee = undefined">√ó</button>

      <h3 *ngIf="nomPlanteSelectionnee && iconePlanteSelectionnee">
        <img [src]="'/' + iconePlanteSelectionnee + '.png'" alt="Ic√¥ne" class="icone-titre">
        {{ nomPlanteSelectionnee }}
      </h3>
      <p><strong>Quantit√© plant√©e :</strong> {{ cultureSelectionnee.quantite }}</p>
      <p><strong>Plant√© le :</strong> {{ cultureSelectionnee.datePlantation }}</p>
      <p><strong>Dernier arrosage :</strong> {{ cultureSelectionnee.dateDernierArrosage }}</p>
      
      <div class="boutons-fiche">
        <div>
          <button class="emoji-btn" (click)="arroserCulture()" title="Arroser">üíß</button>
          <button class="emoji-btn" *ngIf="!cultureSelectionnee.recolte" (click)="recolterCulture()" title="R√©colter">üß∫</button>
        </div>
        <br>
        <button class="btn-supprimer" (click)="supprimerCulture()">‚úñ Supprimer</button>
      </div>


    </div>



</div>


<div>

  <div class="modal-overlay" *ngIf="showForm">
  <div class="modal-form">

  
  <form class="form-ajout" [formGroup]="cultureForm" (ngSubmit)="ajouterCulture()">
    <button class="close-btn" (click)="fermerFormAjout()" aria-label="Fermer">&times;</button>
    
    <h3>Nouvelle culture</h3>

    
      <label for="nomPlante">Nom de la plante :
        <input list="plantes" id="nomPlante" formControlName="nomPlante">
        <datalist id="plantes">
          <option *ngFor="let plante of plantes" [value]="plante.nom">{{ getNom(plante) }}</option>
        </datalist>
      </label><br><br>
    
    <label for="quantite">Quantit√© :
      <input type="number" id="quantite" formControlName="quantite">
    </label><br><br>
  
    <label for="plantation">Date de plantation :
      <input type="date" id="plantation" formControlName="datePlantation">
    </label><br><br>
  
    <label for="arrosage">Date du dernier arrosage :
      <input type="date" id="arrosage" formControlName="dateDernierArrosage">
    </label><br><br>
  
  
    <button type="submit" class="btn">Ajouter</button>
  </form>

  </div>
  </div>


  <div class="popup" *ngIf="popupMessage">
    {{ popupMessage }}
  </div>
</div>
