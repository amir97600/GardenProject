<div *ngIf="isOpen" class="modal-overlay">
    <div class="modal-content">
        <span class="modal-close" (click)="fermer()">✕</span>
        <h2>Mot de passe oublié</h2>

        <div *ngIf="step === 1">
            <label>Login</label>
            <input [(ngModel)]="login" type="text" />
            <button (click)="sendCode()" [disabled]="loading">
                {{ loading ? 'Envoi...' : 'Envoyer le code' }}
            </button>
        </div>

        <div *ngIf="step === 2">
            <label>Code reçu par email</label>
            <input [(ngModel)]="code" type="text" />
            <button (click)="verifyCode()">Vérifier</button>
        </div>

        <div *ngIf="step === 3">
            <label>Nouveau mot de passe</label>
            <input [(ngModel)]="newPassword" type="password" />
            <label>Confirmer le mot de passe</label>
            <input [(ngModel)]="confirmPassword" type="password" />
            <button (click)="resetPassword()">Réinitialiser</button>
        </div>

        <p *ngIf="error" style="color: red;">{{ error }}</p>
    </div>
</div>